!function(t){function e(s){if(n[s])return n[s].exports;var i=n[s]={exports:{},id:s,loaded:!1};return t[s].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function s(){var t=document.getElementById("srtForm");t.onsubmit=function(t){t.preventDefault();var e=document.getElementById("srtInput"),n=document.getElementById("srtDelta"),s=document.getElementById("srtUnit"),r=new FileReader;if(e.files.length){var o=e.files[0],a=n.value,u=s.value;r.readAsText(o),r.onload=function(t){i(t,a,u)}}else alert("nothing")}}function i(t,e,n){var s=t.target.result,i=new o(s);i.shift(e,n),r(i.getSrtContent())}function r(t){var e=document.getElementById("submitBtnWrapper");e.innerHTML='<a class="btn btn-warning" download="new.srt" href="data:text/srt;charset=utf-8,'+encodeURIComponent(t)+'">Download</a>'}var o=n(1);s()},function(t,e,n){var s=function(t){t&&(this.srtContent=t,this.lines=[],this.init())};s.prototype={init:function(){this.parse()},parse:function(){for(var t=this.srtContent.split("\n\r\n"),e=0;e<t.length;e++){var n=t[e],s=n.split("\n");if(s.length>=3){for(var i=s[0],r=s[1],o=r.match(/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9],[0-9][0-9][0-9]/)[0],a=r.match(/\s[0-9][0-9]:[0-9][0-9]:[0-9][0-9],[0-9][0-9][0-9]\s/)[0].replace(" ",""),u=this.stringToDate(o),c=this.stringToDate(a),l="",d=2;d<s.length;d++)l=l+s[d]+"\n";this.lines.push({counter:i,subtitle:l,start:this.dateToObject(u),end:this.dateToObject(c)})}}},shift:function(t,e){var n;switch(e){case"hours":n=36e5;break;case"minutes":n=6e4;break;case"seconds":n=1e3;break;case"milliseconds":n=1}for(var s=0;s<this.lines.length;s++){var i=this.lines[s],r=new Date(i.start.time.getTime()+t*n),o=new Date(i.end.time.getTime()+t*n);this.updateLineTime(s,r,o)}this.updateSrtContent()},updateLineTime:function(t,e,n){var s=this.lines[t];this.lines[t]={counter:s.counter,subtitle:s.subtitle,start:this.dateToObject(e),end:this.dateToObject(n)}},updateSrtContent:function(){for(var t="",e=0;e<this.lines.length;e++){var n=this.lines[e];t+=n.counter+"\n"+n.start.text+" --> "+n.end.text+"\n"+n.subtitle+"\n\r"}this.srtContent=t},getSrtContent:function(){return this.srtContent},stringToDate:function(t){var e=t.indexOf(":"),n=this.nthChar(t,":",2),s=t.indexOf(","),i=t.substring(0,e),r=t.substring(e+1,n),o=t.substring(n+1,s),a=t.substring(s+1);return new Date(1970,1,1,i,r,o,a)},dateToObject:function(t){return{text:(t.getHours()<10?"0":"")+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()+","+(t.getMilliseconds()<10?"00":"")+(t.getMilliseconds()<100&&t.getMilliseconds()>=10?"0":"")+t.getMilliseconds(),time:t,hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}},nthChar:function(t,e,n){for(var s=0,i=0;n>s&&(i=t.indexOf(e,i)+1);)s++;return s==n?i-1:0/0}},t.exports=s}]);